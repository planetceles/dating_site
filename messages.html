<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Match</title>
    <meta name="description" content="Find your future love partner, match you heart, match your love, match your soulmate.">
    <meta name="author" content="">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <h2>Your Messages</h2>
    <div id="messageList"></div>

    <script>
        const userId = localStorage.getItem("userId");

        async function loadMessages() {
            const res = await fetch(`/messages/${userId}`);
            const data = await res.json();

            if (data.success) {
                const container = document.getElementById("messageList");
                data.messages.forEach(msg => {
                    const div = document.createElement("div");
                    div.innerHTML = `<p><strong>${msg.sender_id === Number(userId) ? "You" : "Them"}:</strong> ${msg.message}</p>`;
                    container.appendChild(div);
                });
            }
        }

        loadMessages();
    </script>
</body>